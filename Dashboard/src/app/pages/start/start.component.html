<div class="container" fxLayout="row wrap" fxLayoutGap="1rem" fxLayoutAllign="space-around">
    <div fxFlex=30 fxFlex.lt-md=100 *ngIf="this.wert" fxLayout="column">
        <div fxFlex>
            <app-box 
            [value]="this.wert['R(t)'].replace(',', '.')"
            [title]="'R(t)= '" 
            [description]="'Bei hohen Inzidenzen sind auch Werte um 1 problematisch'"
            [cutoffs]="[0,1.0,1.3]" numberformat="1.2-2"
            [colors]="['green','orange','crimson']">
        </app-box>
        </div>
        <div fxFlex>
            <app-box 
            [value]="this.wert['7-Tage-Inzidenz']"
            [description]="'7-Tage-Inzidenz je 100 Tsd. Einw.'"
            [title]="'Fälle'" [textbehind]="true"
            [cutoffs]="[0,20,50]" numberformat="1.0-0"
            [colors]="['green','orange','crimson']">
            </app-box>
        </div>
        <div fxFlex>
            <app-box 
            [value]="this.wert['Vorwarnzeit aktuell']"
            [description]="'Vorwarnzeit aktuell, Tage bis Ausschöpfung der freien Intensivbetten unter Annahme R=1,3.'"
            [title]="'Tage'" [textbehind]="true"
            [cutoffs]="[0,20,50]" numberformat="1.0-0"
            [colors]="['crimson','orange','green']">
            </app-box>
        </div>

    </div>
    <div fxFlex fxFlex.lt-md=100>
        <mat-card>
            <mat-card-header>
                <mat-card-title>
                    Tabelle aller Daten nach Bundesland
                </mat-card-title>
                <mat-card-subtitle>
                    Datenbasis: keine
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content *ngIf="this.testtable">

          <app-table [columns]="['Bundesland','7-Tage-Inzidenz','Vorwarnzeit aktuell','R(t)']" 
          [data]="this.testtable"></app-table>
            </mat-card-content>
            <mat-card-footer>
                <div class="padding lightgreycolor">
                    <p class="mat-caption">
                        Legende:<br>Keine bisher
                    </p>
                </div>
            </mat-card-footer>
        </mat-card>

    </div>
    <div fxFlex=100>
        <mat-card>
            <mat-card-header>
                <mat-card-title>
                    7-Tages-Inzidenz nach Bundesland
                </mat-card-title>
                <mat-card-subtitle>
                    Datenbasis: RKI
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content *ngIf="this.testtable" >
                <app-plot [data]="this.testtable" xvalue="Bundesland" [outcomes]="['7-Tage-Inzidenz']"
                plottype="bar"></app-plot>
                

            </mat-card-content>
            <mat-card-footer>
                <div class="padding lightgreycolor">
                    <p class="mat-caption">
                        Legende:<br>Keine bisher
                    </p>
                </div>
            </mat-card-footer>
        </mat-card>

    </div>

    <div fxFlex=100>
        <mat-card>
            <mat-card-header>
                <mat-card-title>
                    Vorwarnzeit nach Bundesland
                </mat-card-title>
                <mat-card-subtitle>
                    Datenbasis: RKI, Berechnungen Zi
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content *ngIf="this.testtable">
                <app-plot [data]="this.testtable" xvalue="Bundesland" [outcomes]="['Vorwarnzeit aktuell']"
                plottype="hbar"></app-plot> 
            </mat-card-content>
            <mat-card-footer>
                <div class="padding lightgreycolor">
                    <p class="mat-caption">
                        Legende:<br>Keine bisher
                    </p>
                </div>
            </mat-card-footer>
        </mat-card>

    </div>

    <div fxFlex=100>
        <div>
        <mat-card>
            <p>Für welches Land soll ein Trend zum R-Wert soll angezeigt werden?</p>
            <p>
                <mat-form-field appearance="fill">
                    <mat-label>Bundesland</mat-label>
                    <mat-select [(value)]="this.selected_Land" (selectionChange)="this.update_bl()">
                      <ng-container *ngFor="let option of this.bundeslandoptions">
                        <mat-option [value]="option">{{option}}</mat-option>
                      </ng-container>
                      
                    </mat-select>
                  </mat-form-field>
                  
                 
            </p>

        </mat-card>
        </div>
        <div>
        <mat-card>
            <mat-card-header>
                <mat-card-title>
                    R-Wert im Trend ({{this.selected_Land}})
                </mat-card-title>
                <mat-card-subtitle>
                    Datenbasis: RKI
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content *ngIf="this.testtimeseriesdata" >

              <app-plot [(data)]="this.tsplotdata"  
               [custommargins]="{ l: 0, r: 0, b: 25, t: 0 }"
                xvalue="date" [outcomes]="['R']"
               plottype="tsline"></app-plot> 

            </mat-card-content>
            <mat-card-footer>
                <div class="padding lightgreycolor">
                    <p class="mat-caption">
                        Legende:<br>Keine bisher
                    </p>
                </div>
            </mat-card-footer>
        </mat-card>
    </div>

    </div>

    <div fxFlex=100>
        <div>
        <mat-card>
            <mat-card-header>
                <mat-card-title>
                    Neuinfizierte im Trend
                </mat-card-title>
                <mat-card-subtitle>
                    Datenbasis: RKI
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content *ngIf="this.tsplotdata2" >

              <app-plot [(data)]="this.tsplotdata2"  
               [custommargins]="{ l: 0, r: 0, b: 25, t: 0 }"
                xvalue="date" [outcomes]="['I_cases']" [colorscheme]="['orange']"
               plottype="area"></app-plot> 

            </mat-card-content>
            <mat-card-footer>
                <div class="padding lightgreycolor">
                    <p class="mat-caption">
                        Legende:<br>Keine bisher
                    </p>
                </div>
            </mat-card-footer>
        </mat-card>
    </div>

    </div>

    <div fxFlex=100>
        <mat-card>
            <p>Für welchen Indikator soll eine Karte angezeigt werden werden?</p>
            <p>
                <mat-form-field appearance="fill">
                    <mat-label>Indikator</mat-label>
                    <mat-select [(value)]="this.selected_Indicator" (selectionChange)="this.update_indicator()">
                      <ng-container *ngFor="let option of this.indicators">
                        <mat-option [value]="option">{{option}}</mat-option>
                      </ng-container>
                      
                    </mat-select>
                    
                  
                  </mat-form-field>
                  <br>
                  <span  >Anzahl Kategorien: &nbsp;
                      <mat-slider thumbLabel=true step=1 min=1 max=20 
                      [(ngModel)]="this.setbins"
                       ></mat-slider> </span>
                  
                 
            </p>

        </mat-card>
        <mat-card>
            <mat-card-header>
                <mat-card-title>
                    {{this.selected_Indicator}} nach Bundesland
                </mat-card-title>
                <mat-card-subtitle>
                    Datenbasis: RKI
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content *ngIf="this.testtable && this.selected_Indicator">

 
                <div *ngIf="this.blkarte">
                    <app-map 
                    [feature]="this.selected_Indicator" id="Bundesland"
                    opacity=.8 [bins]="this.setbins"
                    [colorscale]="['green','yellow','crimson']"
                    [basemap]="this.blkarte" [data]="this.testtable"></app-map>
                </div> 
            </mat-card-content>
            <mat-card-footer>
                <div class="padding lightgreycolor">
                    <p class="mat-caption">
                        Legende:<br>Wird die Zahl der Kategorien geändert, muss ein neuer Indikator ausgewählt werden, damit die Änderungen wirksam werden. Wird eine Datenreihe ausgewählt, in der der Wert Gesamt enthalten ist und wir eine Summe dargestellt,
                        landen alle Einheiten in der Kategorie niedrig. Darum sollten die Werte vor Übermittlung gefiltert werden, um den Wert Gesamt zu entfernen.<br>
                        Ist das ausgewählte Feature String und nicht numerisch, schlägt die Darstellung fehl.
                    </p>
                </div>
            </mat-card-footer>
        </mat-card>

    </div>

    <div fxFlex fxFlex.lt-md=100>
        <div style="min-width: 300px;padding:10px;">
            <h2>Fancy Description</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Id deleniti facilis unde nihil error aliquam
                cum, inventore quo omnis eum dolores doloribus est ad dolore provident voluptate consectetur quae non
                blanditiis. Qui commodi officiis molestias et pariatur maxime eveniet, sint earum quia voluptate natus
                nulla provident autem amet eum asperiores vitae. Dolores inventore reiciendis quas culpa explicabo
                aliquam labore ad recusandae non officiis, impedit tempora iste in optio asperiores amet atque nesciunt
                delectus error modi veritatis maxime odio? Aliquid vero nihil deleniti accusamus praesentium veritatis,
                ratione ipsa, ullam perferendis aut minus quaerat voluptatum tempore earum suscipit ab? Ipsam, modi
                voluptatem.</p>
        </div>
    </div>
</div>